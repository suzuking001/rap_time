<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/icon-512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icon-180.png">
    <meta name="theme-color" content="#ff6b35">
    <title>サイクルタイム測定ウォッチ</title>
    <script>
        if (location.protocol === "http:" || location.protocol === "https:") {
            const link = document.createElement("link");
            link.rel = "manifest";
            link.href = "manifest.webmanifest";
            document.head.appendChild(link);
        }
    </script>
</head>
<body>
    <div id="container">
        <div class="top-actions">
            <button id="helpBtn" class="help-btn" type="button">使い方</button>
        </div>
        <div class="time-grid">
            <div class="time-card">
                <div class="time-label">TOTAL</div>
                <div id="totalTime">00:00:00.00</div>
            </div>
            <div class="time-card">
                <div class="time-label">LAP</div>
                <div id="currentLap">00:00:00.00</div>
            </div>
        </div>
        <div class="buttons">
            <button id="startBtn">スタート</button>
            <button id="stopBtn" disabled>ストップ</button>
            <button id="resetBtn" disabled>リセット</button>
            <button id="csvBtn" disabled>CSV出力</button>
        </div>
        <button id="lapBtn" disabled>ラップ</button>
        <div class="section-title">LAPS</div>
        <div id="laps"></div>
    </div>
    <div id="helpModal" class="modal" aria-hidden="true">
        <div id="helpBackdrop" class="modal-backdrop" aria-hidden="true"></div>
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
            <div class="modal-header">
                <div id="helpTitle" class="modal-title">使い方</div>
                <button id="helpCloseBtn" class="modal-close" type="button" aria-label="Close">閉じる</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <div class="modal-label">アプリの使い方</div>
                    <ol class="modal-list">
                        <li>https://suzuking001.github.io/rap_time/ をブラウザで開きます</li>
                        <li>スタート で計測開始</li>
                        <li>ラップ でラップを記録（現在ラップが 0 に戻ります）</li>
                        <li>ストップ で停止</li>
                        <li>リセット で全クリア</li>
                        <li>CSV出力 でラップ一覧を CSV ダウンロード</li>
                    </ol>
                </div>
                <div class="modal-section">
                    <div class="modal-label">iPhone（Safari）でホーム画面に追加</div>
                    <ol class="modal-list">
                        <li>Safari で https://suzuking001.github.io/rap_time/ を開く</li>
                        <li>画面下の共有ボタン（四角から上矢印）をタップ</li>
                        <li>「ホーム画面に追加」を選択</li>
                        <li>追加後はホーム画面のアイコンから起動</li>
                    </ol>
                </div>
                <div class="modal-section">
                    <div class="modal-label">Android（Chrome）でホーム画面に追加</div>
                    <ol class="modal-list">
                        <li>Chrome で https://suzuking001.github.io/rap_time/ を開く</li>
                        <li>右上メニュー →「ホーム画面に追加」または「アプリをインストール」</li>
                        <li>追加後はホーム画面のアイコンから起動</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
<script src="js/script.js"></script>
</body>
</html>

